local args = {...}
local name = args[1]

if not name then
	io.write("Name? ")
	name = io.read()
end

local dev = peripheral.wrap(name)

if not dev then
	error("device not found")
end

for k,v in pairs(dev) do
	if k:match("^get.*") then
		v = pcall(function() return dev[k]() end)
		if not v then v = "?" end
		print(k.." = "..v)
	else
		print(k)
	end
end
